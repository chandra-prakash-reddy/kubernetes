@Library("com.optum.jenkins.pipeline.library@master") _
//Some defined parameters
String repository = 'mr'
String namespace = 'pe'
String versionPrefix = '1.0-SNAPSHOT-MR-MAPS-SCHEMA-REG'
String openshiftDatacenter = 'elr'
String openshiftProjectBase = "$namespace-$repository"
String openshiftTestService = 'test'
String openshiftClusterBase = 'origin-elr-core.optum.com'


pipeline {
    environment {
        GITHUB_USER ='PE_GITHUB_USER'
        TECH_USER = 'peappdeploy'
        OPENSHIFT_CREDENTIALS_ID='OpenShift_PE_OriginAccount_Nonprod'
        OPENSHIFT_CREDENTIALS_ID_PROD='OpenShift_PE_OriginAccount_Prod'
        VERSION = readMavenPom().getVersion()
    }

    agent {
        label 'docker-maven-slave'
    }

    stages {
        stage('Building the code') {
            steps {
                glMavenBuild mavenGoals: "-B org.codehaus.mojo:versions-maven-plugin:2.3:set -DnewVersion=${BUILD_NUMBER} clean install -Dci.env= -Dbuild.number='${BUILD_NUMBER}'"
            }
        }

     stage('Please confirm if you want to run Fortify scan') {
        steps {
            script {
                echo "Do you want to run the scan OR Skip it?"
                timeout(time: 15, unit: 'MINUTES') {
                    runScan = input(
                            message: "Do you want to run the scan?",
                            parameters: [choice(name: 'Select Yes or No', choices: "YES\nNO")],
                            ok: "Confirm")
                    echo runScan
                    if (runScan.equals("YES")) {
                        try {
                              glFortifyScan fortifyBuildName: "MR-MAPS-${BUILD_NUMBER}",
                              scarUploadToken: "ad207dea-fd82-4866-aa92-cd0ffb72d1a3",
                           //  scarProjectName: "PE_UHGWM110-003454 MR",
                           //   fortifyHome: "/tools/fortify/HP_Fortify_SCA_and_Apps_18.20",
                              uploadToScar: true,
                              wait: false,
                              criticalThreshold: 100,
                              highThreshold: 400,
                              scarProjectVersion: "23137",
                              scarCredentialsId: "ArtifactoryDocker",
                              fortifyJdkVersion: "1.8",
                              fortifyMemory: "-Xmx7264M -Xms1G -Xss24M",
                              fortifyMaxSizeMemory: "-Xmx7264M",
                              isGenerateDevWorkbook: true
                        } catch (err) {
                            echo 'glFortifyScan is failed::' + err
                        }
                    } else {
                        echo "Scan is skipped"
                    }
                }
            }
        }
    }

    stage('Build and push to artifactory') {
        steps {
                echo "VERSION: ${VERSION}"

                glMavenBuild mavenGoals: "-B org.codehaus.mojo:versions-maven-plugin:2.3:set -DnewVersion='${VERSION}' clean install -Dci.env= -Dbuild.number='${BUILD_NUMBER}'"
                glMavenArtifactoryDeploy artifactoryUserCredentialsId: "${env.TECH_USER}", additionalProps:['ci.env':'']
            }
        }
    }

    post {
        always {
            echo 'Running post-build notifications'
        }
        failure {
            mail to: 'prakash_kistaiahgari@optum.com',
                 subject: "Failed Pipeline: ${currentBuild.fullDisplayName}",
                 body: "Something is wrong with ${env.BUILD_URL}"
        }
        success {
            mail to: 'prakash_kistaiahgari@optum.com',
                 subject: "Succeeded Pipeline: ${currentBuild.fullDisplayName}",
                 body: "successfully built ${env.BUILD_URL}"
        }
    }
}